<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default}">
	<!-- 사용자 정의 title -->
	<th:block layout:fragment="customTitle">
		<title th:text="${title}"></title>
	</th:block>
	
	<th:block layout:fragment="customContents">
		<form th:action="@{/admin/workoutAIVideoInsert}" method="post">
			<div class="col-md-12">
				<div class="panel">
			    	<div class="panel-heading bg-white border-none">
			        	<h4><span class="icon-social-youtube"></span> AI 운동 영상 목록</h4>
			        </div>	
			        <div class="panel-body">
		           		<div class="responsive-table">
		             		<table id="AIVideoList" class="table table-striped table-bordered" style="width: 100% " cellspacing="0">
								<thead>
									<tr>
										<th>운동 영상 제목</th>
										<th>등록일</th>
										<th>수정</th>
										<th>삭제</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>
											<!-- Button to Open the Modal -->
											<button type="button" class="btn btn-default" data-toggle="modal" data-target="#videoModal1" data-video="https://www.youtube.com/embed/w1c5WNRdakk">
											  	팔굽혀펴기
											</button>
											
											<!-- The Modal -->
											<div class="modal fade" id="videoModal1" tabindex="-1" role="dialog">
											  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
											    <div class="modal-content">
													<div class="modal-header bg-dark border-dark">
																				<h4 class="modal-title">팔굽혀펴기 영상</h4>
										                <button type="button" class="close text-white" data-dismiss="modal">&times;</button>
										            </div>
										            <div class="modal-body bg-dark p-0">
										                <div class="embed-responsive embed-responsive-16by9">
										                  <iframe class="embed-responsive-item" allowfullscreen></iframe>
										                </div>
										            </div>
											    </div>
											  </div>
											</div>
										</td>
										<td>2020.03.20</td>
										<td>
											<a th:href="@{/admin/workoutAIVideoUpdate}">수정</a>
										</td>
										<td>
											<a th:href="@{/admin/workoutAIVideoDelete}">삭제</a>
										</td>
									</tr>
									<tr>
										<td>
											<!-- Button to Open the Modal -->
											<button type="button" class="btn btn-default" data-toggle="modal" data-target="#videoModal2" data-video="https://www.youtube.com/embed/V_tTIFb9slM">
											  	권투
											</button>
											
											<!-- The Modal -->
											<div class="modal fade" id="videoModal2" tabindex="-1" role="dialog">
											  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
											    <div class="modal-content">
													<div class="modal-header bg-dark border-dark">
																				<h4 class="modal-title">권투 영상</h4>
										                <button type="button" class="close text-white" data-dismiss="modal">&times;</button>
										            </div>
										            <div class="modal-body bg-dark p-0">
										                <div class="embed-responsive embed-responsive-16by9">
										                  <iframe class="embed-responsive-item" allowfullscreen></iframe>
										                </div>
										            </div>
											    </div>
											  </div>
											</div>
										</td>
										<td>2020.03.20</td>
										<td>
											<a th:href="@{/admin/workoutAIVideoUpdate}">수정</a>
										</td>
										<td>
											<a th:href="@{/admin/workoutAIVideoDelete}">삭제</a>
										</td>
									</tr>
									<tr>
										<td>
											<!-- Button to Open the Modal -->
											<button type="button" class="btn btn-default" data-toggle="modal" data-target="#videoModal3" data-video="https://www.youtube.com/embed/jc4d-hnKY9s">
											  	요가
											</button>
											
											<!-- The Modal -->
											<div class="modal fade" id="videoModal3" tabindex="-1" role="dialog">
											  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
											    <div class="modal-content">
													<div class="modal-header bg-dark border-dark">
														<h4 class="modal-title">요가 영상</h4>
										                <button type="button" class="close text-white" data-dismiss="modal">&times;</button>
										            </div>
										            <div class="modal-body bg-dark p-0">
										                <div class="embed-responsive embed-responsive-16by9">
										                  <iframe class="embed-responsive-item" allowfullscreen></iframe>
										                </div>
										            </div>
											    </div>
											  </div>
											</div>
										</td>
										<td>2020.03.20</td>
										<td>
											<a th:href="@{/admin/workoutAIVideoUpdate}">수정</a>
										</td>
										<td>
											<a th:href="@{/admin/workoutAIVideoDelete}">삭제</a>
										</td>
									</tr>
								</tbody>
		                   	</table>
						</div>
						<div style="text-align: center;">
		           			<input type="submit" class="btn btn-outline btn-primary" value="AI 운동 영상 등록 ">
		        		</div>
					</div>
				</div>
			</div>
		</form>		
	</th:block>
	
	<!-- 사용자 정의 Css -->
	<th:block layout:fragment="customCss">
		<link rel="stylesheet" type="text/css" th:href="@{/asset/css/plugins/dropzone.css}"/>
		<link rel="stylesheet" type="text/css" th:href="@{/asset/css/plugins/jquery.steps.css}"/>
		<link rel="stylesheet" type="text/css" th:href="@{/asset/css/plugins/simple-line-icons.css}" />

		<style type="text/css">
			.panel-heading > h4 {
				font-weight: bold;
				margin-bottom: 0;
				border-bottom: 2px solid #58666e;
				padding-bottom: 5px;
			}
			 .panel-body:nth-child(2) {
				padding-top: 0;
			}
		</style>
	</th:block>
	
	<!-- start: Javascript -->
	<th:block layout:fragment="customBodyScript">	
		<script th:src="@{/asset/js/jquery.min.js}"></script>
		<script th:src="@{/asset/js/jquery.ui.min.js}"></script>
		<script th:src="@{/asset/js/bootstrap.min.js}"></script>
		
		<!-- plugins -->
		<script th:src="@{/asset/js/plugins/moment.min.js}"></script>
		<script th:src="@{/asset/js/plugins/jquery.dataTables.min.js}"></script>
		<script th:src="@{/asset/js/plugins/dataTables.bootstrap.min.js}"></script>
		<script th:src="@{/asset/js/plugins/jquery.nicescroll.js}"></script>
		<script th:src="@{/asset/js/plugins/jquery.mask.min.js}"></script>
		<script th:src="@{/asset/js/plugins/jquery.validate.min.js}"></script>
		
		<!-- custom -->
		<script th:src="@{/asset/js/main.js}"></script>
		<script type="text/javascript">
		
		  $(document).ready(function(){
			  
			  /* 데이터 테이블 생성*/
				var table = $('#AIVideoList').DataTable({
					order : [ 0, 'desc' ],
					lengthChange : false,
					pageLength : 15,
					filter : false,
					dom : '<"top"i>rt<"bottom"p><"clear">',
				});

				/* 레코드 수 포맷 */
				var info = table.page.info();
				$('#AIVideoList_info').html(
						'전체 ' + info.recordsTotal + ' 건').css(
						'font-weight', 'bold');

				$('#AIVideoList').click(
						function() {
							$('#AIVideoList_info').html(
									'전체 ' + info.recordsTotal + ' 건');
				});
			
			/* 모달 */
		  $(document).ready(function() {
			    // Set iframe attributes when the show instance method is called
			    $("#videoModal1").on("show.bs.modal", function(event) {
			        let button = $(event.relatedTarget); // Button that triggered the modal
			        let url = button.data("video");      // Extract url from data-video attribute
			        $(this).find("iframe").attr({
			            src : url,
			            allow : "accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
			        });
			    });

			    // Remove iframe attributes when the modal has finished being hidden from the user
			    $("#videoModal1").on("hidden.bs.modal", function() {
			        $("#videoModal iframe").removeAttr("src allow");
			    });
			});
		  $(document).ready(function() {
			    // Set iframe attributes when the show instance method is called
			    $("#videoModal2").on("show.bs.modal", function(event) {
			        let button = $(event.relatedTarget); // Button that triggered the modal
			        let url = button.data("video");      // Extract url from data-video attribute
			        $(this).find("iframe").attr({
			            src : url,
			            allow : "accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
			        });
			    });

			    // Remove iframe attributes when the modal has finished being hidden from the user
			    $("#videoModal2").on("hidden.bs.modal", function() {
			        $("#videoModal iframe").removeAttr("src allow");
			    });
			});
		  $(document).ready(function() {
			    // Set iframe attributes when the show instance method is called
			    $("#videoModal3").on("show.bs.modal", function(event) {
			        let button = $(event.relatedTarget); // Button that triggered the modal
			        let url = button.data("video");      // Extract url from data-video attribute
			        $(this).find("iframe").attr({
			            src : url,
			            allow : "accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
			        });
			    });

			    // Remove iframe attributes when the modal has finished being hidden from the user
			    $("#videoModal3").on("hidden.bs.modal", function() {
			        $("#videoModal iframe").removeAttr("src allow");
			    });
			});
		</script>
		
	</th:block>
	<!-- end: Javascript -->
	
</html>