<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default}">
	<!-- 사용자 정의 title -->
	<th:block layout:fragment="customTitle">
		<title th:text="${title}"></title>
	</th:block>
	
	<th:block layout:fragment="customContents">
		<div class="col-md-12">
			<div class="panel">
		    	<div class="panel-heading-white panel-heading">
		        	<h4>#로그인 회원 목록(이민식)</h4>
		        </div>
		        <div class="panel-body">
		        	<div class="col-md-12">
						<div class="col-md-12 top-20 padding-0">
			            	<div class="col-md-12">
			                	<div class="panel">
			                    	<div class="panel-heading bg-deep-purple">
			                    		<h6 class="text-white">로그인 회원 목록</h6>
			                    	</div>
			                   		<div class="panel-body">
			                     		<div class="responsive-table">
				                     	<table id="loginList" class="table table-striped table-bordered" style="width: 100%;">
										<thead>
											<tr>
											<!--  -->
												<th>로그인 코드</th>
												<th>로그인 이메일</th>
												<th>로그인 회원 이름</th>
												<th>로그인 회원 권한 코드</th>
												<th>로그인 날짜</th>
												<th>로그인 실패 횟수</th>
												<th>최근 접속 시도 시각</th>
												<th>로그인 MAC</th>
												<th>로그인 OS</th>
												<th>로그아웃 날짜</th>
												<th>로그인 브라우저</th>
												<th>로그인 IP 주소</th>
											</tr>
										</thead>
										<tbody>
											<!-- DTO 방식 -->
											<tr th:if="${not #lists.isEmpty(loginList)}" th:each="l : ${loginList}">
												<td th:text="${l.loginCode}"></td>
												<td th:text="${l.loginMemberEmail}"></td>
												<td th:text="${l.member.memberName}"></td>
												<td th:text="${l.member.memberLevelCode}"></td>
												<td th:text="${l.loginDate}"></td>
												<td th:text="${l.loginFailNum}"></td> 
												<td th:text="${l.loginRecentTryDate}"></td> 
												<td th:text="${l.loginMACAddress}"></td> 
												<td th:text="${l.loginOS}"></td> 
												<td th:text="${l.loginLogoutDate}"></td> 
												<td th:text="${l.loginBrowser}"></td> 
												<td th:text="${l.loginIPAddress}"></td> 
												<!-- map 방식
												<td th:text="${l.get('loginCode')}"></td>
												<td th:text="${l.get('loginMemberEmail')}"></td>
												<td th:text="${l.get('memberName')}"></td>
												<td th:text="${l.get('memberLevelCode')}"></td>
												<td th:text="${l.get('memberEmail')}"></td>
												<td th:text="${l.get('loginDate')}"></td>
												<td th:text="${l.get('loginFailNum')}"></td> 
												<td th:text="${l.get('loginRecentTryDate')}"></td> 
												<td th:text="${l.get('loginMACAddress')}"></td> 
												<td th:text="${l.get('loginOS')}"></td> 
												<td th:text="${l.get('loginLogoutDate')}"></td> 
												<td th:text="${l.get('loginBrowser')}"></td> 
												<td th:text="${l.get('loginIPAddress')}"></td> 
												-->
											</tr>
											<tr th:unless="${not #lists.isEmpty(loginList)}">
												<td colspan="7">로그인 이력이 없습니다.</td>
											</tr>
										 </tbody>

				                        </table>
										</div>
									</div>
								</div>
							</div>  
						</div>
					</div>
				</div>
			</div>
		</div>
	</th:block>
	
	<!-- start: Javascript -->
	<th:block layout:fragment="customBodyScript">	
		
		<!-- plugins -->
		<script th:src="@{/asset/js/plugins/moment.min.js}"></script>
		<script th:src="@{/asset/js/plugins/jquery.dataTables.min.js}"></script>
		<script th:src="@{/asset/js/plugins/dataTables.bootstrap.min.js}"></script>
		<script th:src="@{/asset/js/plugins/jquery.nicescroll.js}"></script>
		
		
		<!-- custom -->
		<script th:src="@{/asset/js/main.js}"></script>
		<script type="text/javascript">
		$(document).ready(function(){
		    $('#loginList').DataTable();		    
		});
		
		</script>
	</th:block>
	<!-- end: Javascript -->
</html>